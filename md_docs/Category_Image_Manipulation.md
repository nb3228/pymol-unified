# Category: Image Manipulation

## Antialias

The printable version is no longer supported and may have rendering errors. Please update your browser bookmarks and please use the default browser print function instead.

## Overview

The **antialias** setting in pymol controls the level of antialiasing that pymol does in the **[ray](/index.php/Ray "Ray")** -tracing routine. Higher numbers take longer to ray trace but provide much smoother and better looking images. 

## Examples

Notice the overall **quality** of the images improves as the antialiasing setting is increased. Click each image to see the high-resolution version; the small image doesn't show the differences in AA settings so well. 

  * [![AA set to 0](/images/e/e4/Aa0.png)](/index.php/File:Aa0.png "AA set to 0")

AA set to 0 

  * [![AA set to 1](/images/3/3a/Aa1.png)](/index.php/File:Aa1.png "AA set to 1")

AA set to 1 

  * [![AA set to 2](/images/e/e0/Aa2.png)](/index.php/File:Aa2.png "AA set to 2")

AA set to 2 




## Syntax
    
    
    set antialias,0  # low setting/off
    set antialias,2  # higher setting, better image quality
    

Retrieved from "[https://pymolwiki.org/index.php?title=Antialias&oldid=4275](https://pymolwiki.org/index.php?title=Antialias&oldid=4275)"


---

## Display CCP4 Maps

The printable version is no longer supported and may have rendering errors. Please update your browser bookmarks and please use the default browser print function instead.

The following steps can be used to read CCP4-format electron density maps into pymol for the generation of publication-quality images. 

1\. Use **fft** to create a map in CCP4. (This task can be run from the _Run_ FFT-Create Map _option under_ Map & Mask Utilities _) You can create a_ simple map or a 'Fo-Fc map as you wish. CCP4i will create a 2Fo-Fc map by default. To make a Fo-Fc map, set F1=DELFWT and PHIC=PHDELWT in the task window. Select the option to cover **'asymmetric unit'**. For pymol to read the map later, you will need to add the file extension .map.ccp4 to the generated map. You may find this map too coarse to make for a pretty diagram. You can generate a nicer (albeit much larger) map by re-running **fft** with a tighter grid spacing. I usually take the default values generated by FFT and double them. You can change grid spacing under _Infrequently Used Options_. Alternatively, you can increase the sampling rate in Pymol in step 3 below. 

2\. Open pymol and read in your PDB file. Create a selection about whatever you want to see the map around. Typically one would display the selection as sticks. 

3\. Open your map in pymol, _e.g._ mymap.map.ccp4 (you need the ccp4 extension). An object named _mymap.map_ will be created by pymol. To increase the sampling rate of the map (desirable if you did not do this at the time of map generation) issue the command **map_double mymap.map, -1**

4\. Identify a selection about which to display your map, _e.g._
    
    
    select site, resi 39-50 and resn bct
    

5\. To display the map around your selection (_e.g._ , named _site_) issue a command similar to this: 
    
    
    isomesh map, mymap.map, 2.0, site, carve=1.6
    

This command will create a mesh map object named _map_ from the object _mymap.map_ , contoured at 2.0 sigma, around the selection _site_ , within 1.6A of selected atoms. You can change the contour level and carve parameter to suit. The contour level should be about 1.00 for a 2Fo-Fc map and about 3.00 for a Fo-Fc map. Note: the map object will be named in pymol whatever the filename was minus the .ccp4 extension 

6\. For a publication quality figure the following are suggestions: 
    
    
    color grey50, map # sets map to 50% gray
    set mesh_width, 0.5 # makes meshes thinner for ray-tracing
    bg_color white #sets background to white
    set ray_trace_fog, 0 # turns off raytrace fog--optional
    set depth_cue, 0 # turns off depth cueing--optional
    set ray_shadows, off # turns off ray-tracing shadows
    ray 1024,1024 # this would create a 1024x1024 pixel ray-traced image
    png image.png # output final image
    

Labels can be added in GIMP or Photoshop. With these directions you should be able to create an image similar to the following one: 

[![Ccp4 map.png](/images/8/8f/Ccp4_map.png)](/index.php/File:Ccp4_map.png)

# User Notes

If the ccp4 maps loaded by PyMOL seem smaller/larger than maps in other programs this might be due to normalization. To stop PyMOL from normalizing a cpp4 map simply unset, 
    
    
    unset normalize_ccp4_maps
    

**before** loading your ccp4 map. 

# See Also

[normalize_ccp4_maps](/index.php/Normalize_ccp4_maps "Normalize ccp4 maps")

Retrieved from "[https://pymolwiki.org/index.php?title=Display_CCP4_Maps&oldid=11999](https://pymolwiki.org/index.php?title=Display_CCP4_Maps&oldid=11999)"


---

## Publication Quality Images

The printable version is no longer supported and may have rendering errors. Please update your browser bookmarks and please use the default browser print function instead.

## Contents

  * 1 High Resolution (DPI) Images
    * 1.1 Creating Resolution Specific Images
      * 1.1.1 GIMP 2.0
  * 2 Important Note
    * 2.1 See Also



## High Resolution (DPI) Images

### Creating Resolution Specific Images

We often get the question: 
    
    
    Q.  How do I create a X DPI image using PyMol's 'ray' command?
    

The answer is deceivingly simple. There are two steps in the process. First, setup your scene and use [ray](/index.php/Cmd_ray "Cmd ray") like this 
    
    
    ray 2400, 2400
    

From this you will get a large square image. You can now resize it to X inches where X=A*B, A and B factors of 2400 (eg: 8 inch photo @ 300DPI, 4 inch photo at 600DPI, 2 inch photo @ 1200DPI). The formula for creating images is: 
    
    
    rayVal = inches * DPI
    

where rayVal is the value you pass to "ray". Thus, an 8 inch square photo at 72, 100, and 300 DPI would be created by the following commands: 
    
    
    ray 576,576   # 8inch * 72dpi
    ray 800,800   # 8inch * 100dpi; or a 4inch * 200 DPI photo; or 1x800.
    ray 2400,2400 # 8inch * 300dpi; 6"x400dpi, etc...
    

  
The **new and better solution** is to use the [Png](/index.php/Png "Png") command with the **dpi** setting, such as 
    
    
    png fileName, dpi=300
    

If you don't have a new enough version of PyMOL that supports this, then the **old solution** is to use [PhotoShop](/index.php?title=PhotoShop&action=edit&redlink=1 "PhotoShop \(page does not exist\)") or [GIMP](/index.php?title=GIMP&action=edit&redlink=1 "GIMP \(page does not exist\)") to resize the photo to the appropriate height and width while making sure also to tell the [PhotoShop](/index.php?title=PhotoShop&action=edit&redlink=1 "PhotoShop \(page does not exist\)") or [GIMP](/index.php?title=GIMP&action=edit&redlink=1 "GIMP \(page does not exist\)") what resolution the image is. 

  


##### GIMP 2.0

In Gimp, load your image (it'll most likely be very large) then 

  * Select:


    
    
    Image ->
    Scale Image ->
    'Print Size & Scale Image Section' change 'New Width' to whatever width you decided on before.
    

  * Save Image (File->Save)



You should be set. 

  


## Important Note

For those who are hung up on the idea that DPI is important please read this interesting [explanation](http://www.rideau-info.com/photos/mythdpi.html). 

### See Also

  * [Png](/index.php/Png "Png")
  * [Ray](/index.php/Ray "Ray")
  * [Draw](/index.php/Draw "Draw")
  * [CMYK](/index.php/CMYK "CMYK")
  * the rest of the pages in this [Category](/index.php/Category:Publication_Quality "Category:Publication Quality")



Retrieved from "[https://pymolwiki.org/index.php?title=Publication_Quality_Images&oldid=6490](https://pymolwiki.org/index.php?title=Publication_Quality_Images&oldid=6490)"


---

## Ray opaque background

The printable version is no longer supported and may have rendering errors. Please update your browser bookmarks and please use the default browser print function instead.

## Overview

This setting changes how PyMol treats the background. If this option is ON then the background is whatever you specify -- like black or white; however, if the setting is OFF, then the background will be treated as a transparent alpha channel. 

## Settings

Note: turning this setting **off** creates the transparent backgrounds. 
    
    
    # turn on transparent alpha channel
    set ray_opaque_background, off
    

## Examples

  * [![ray_opaque_background set to 0. The image from PyMOL is shown over a checkerboard.](/images/e/e7/Rob0.png)](/index.php/File:Rob0.png "ray_opaque_background set to 0. The image from PyMOL is shown over a checkerboard.")

ray_opaque_background set to 0. The image from PyMOL is shown over a checkerboard. 

  * [![ray_opaque_background set to 1. The image from PyMOL is shown over a checkerboard, however because the background is opaque, the checkerboard underneath does not show through.](/images/a/ab/Rob1.png)](/index.php/File:Rob1.png "ray_opaque_background set to 1. The image from PyMOL is shown over a checkerboard, however because the background is opaque, the checkerboard underneath does not show through.")

ray_opaque_background set to 1. The image from PyMOL is shown over a checkerboard, however because the background is opaque, the checkerboard underneath does not show through. 




Retrieved from "[https://pymolwiki.org/index.php?title=Ray_opaque_background&oldid=11598](https://pymolwiki.org/index.php?title=Ray_opaque_background&oldid=11598)"


---

## Ray orthoscopic

The printable version is no longer supported and may have rendering errors. Please update your browser bookmarks and please use the default browser print function instead.

## Overview

This setting controls whether ray-traced images are rendered with or without perspective. Note that this can be in conflict with the setting "orthoscopic"; by default, images are rendered with the same orthoscopic setting as the viewport, unless "ray_orthoscopic" is deliberately set otherwise. 

## Settings
    
    
    set ray_orthoscopic, off   # render ray-traced images with perspective (2-4x SLOWER)
    set ray_orthoscopic, on    # render ray-traced images without perspective
    

## Examples

  * [![orthoscopic on \(perspective off\)](/images/e/ea/Orthoon2.png)](/index.php/File:Orthoon2.png "orthoscopic on \(perspective off\)")

orthoscopic on (perspective off) 

  * [![orthoscopic off \(perspective on\)](/images/f/f8/Orthooff2.png)](/index.php/File:Orthooff2.png "orthoscopic off \(perspective on\)")

orthoscopic off (perspective on) 

  * For many images, the difference is hardly visible.



  * [![orthoscopic on \(perspective off\)](/images/4/46/Orthoon.png)](/index.php/File:Orthoon.png "orthoscopic on \(perspective off\)")

orthoscopic on (perspective off) 

  * [![orthoscopic off \(perspective on\)](/images/3/3d/Orthooff.png)](/index.php/File:Orthooff.png "orthoscopic off \(perspective on\)")

orthoscopic off (perspective on) 

  * Especially when straight features parallel to the z axis are shown, the effect may be large.




Retrieved from "[https://pymolwiki.org/index.php?title=Ray_orthoscopic&oldid=8551](https://pymolwiki.org/index.php?title=Ray_orthoscopic&oldid=8551)"


---

